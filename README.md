# Документация проекта.

## Установка и запуск.

1.  **Клонируйте репозиторий:**

    ```
    git clone https://github.com/yourbosss/WebBackend3.git
     ```

3.  **Установите зависимости:**

    ```
    yarn install
    ```

4.  **Настройте файл .env в корне проекта и установите переменные окружения.**


5.  **Запустите сервер:**

    ```
    yarn run dev
    ```

# Авторизация.
## Получение токена администратора.
Для выполнения запросов с правами администратора необходимо получить JWT-токен.

**Запрос:**
 ```
POST http://localhost:3000/api/auth/login
 ```

**Тело запроса:**
  ```
{
"username": "admin",
"password": "password123"
}
  ```

---

# Работа с записью на курс студентов.

## Запись студента на курс.
**Запрос:**
 ```
POST http://localhost:3000/api/enrollments/courseId/enroll
 ```

---

##  Получение прогресса прохождения курса.
**Запрос:**
 ```
GET  http://localhost:3000/api/enrollments/:courseId/progress
 ```
---

## Отметить урок как пройденный.
**Запрос:**
 ```
POST http://localhost:3000/api/enrollments/:courseId/lessons/:lessonId/complete
 ```
---

##  Отменить прохождение урока.
**Запрос:**
 ```
POST http://localhost:3000/api/enrollments/:courseId/lessons/:lessonId/undo
 ```
---

## Подсчёт всех студентов, записавшихся на курс.
**Запрос:**
 ```
GET http://localhost:3000/api/enrollments/:courseId/students/count
 ```
---

## Отметить весь курс как пройденный.
**Запрос:**
 ```
POST http://localhost:3000/api/enrollments/:courseId/complete
 ```

---


### Общие примечания к проекту:
- все запросы (кроме публичного просмотра) требуют JWT-токена;
- для учителей/администраторов проверяется принадлежность курса при создании уроков;
- если студент не записан на курс, взаимодействовать с ним он не может;
- прогресс выполнения курса обновляется при добавление или изменение курса и его уроком.


## Хранение файлов:
- изображения хранятся локально;
- видео доступно по ссылке.

## Доступ:
- управление уроками: учителя/админы;
- комментирование: студенты;
- просмотр: все авторизованные пользователи;
- работа с курсами: студенты/админ.
